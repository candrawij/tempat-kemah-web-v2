/* === 1. FONT & BACKGROUND UTAMA === */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

html, body, [class*="st-"], [class*="css-"] {
    font-family: 'Poppins', sans-serif;
    color: #FFFFFF; /* Teks default PUTIH */
    scroll-behavior: smooth;
}

/* Menggunakan URL gambar Anda */
[data-testid="stAppViewContainer"] {
    background-image: linear-gradient(rgba(10, 10, 25, 0.8), rgba(10, 10, 25, 0.8)), url("https://github.com/candrawij/tempat-kemah-web-v2/blob/main/tent-night-wide.jpg?raw=true");
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
}

[data-testid="stAppViewContainer"] > .main {
    background-color: transparent !important; /* Paksa transparan */
    color: #FFFFFF;
}

/* === 2. KONTAINER KONTEN ("FROSTED GLASS") === */
/* INI MEMPERBAIKI MASALAH "KACAU" ANDA */
/* Kita targetkan kontainer utama Streamlit */
.main .block-container {
    padding-top: 5rem;
    padding-bottom: 5rem;
    
    /* Efek "Frosted Glass" */
    background: rgba(26, 26, 46, 0.75); /* Biru tua transparan */
    backdrop-filter: blur(10px) saturate(150%);
    -webkit-backdrop-filter: blur(10px) saturate(150%);
    
    border-radius: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1); /* Garis tepi tipis */
    
    max-width: 1200px !important; /* Batasi lebar */
    margin: 2rem auto; /* Ini akan MENENGKAHKAN kontainer */
}

/* === 3. TIPOGRAFI & JUDUL === */
/* 1. Aturan ini HANYA menengahkan H1 (st.title) */
#cari-kemah {
    font-size: 3.5rem;
    font-weight: 700;
    text-align: center; /* Judul Anda akan ke tengah */
    color: #FFFFFF;
    padding-bottom: 1rem;
}

.sub-judul {
    text-align: center;
    color: #E0E0E0;
    font-weight: 600;
    font-size: 2.4rem;
    margin-top: -5px;
    letter-spacing: 0.4px;
}

.search-guide {
    text-align: center;
    color: #E0E0E0;
    font-weight: 300;
    font-size: 1.1rem;
    margin-top: -5px;
    letter-spacing: 0.4px;
    padding-bottom: 1rem;
}

/* === 4. SEARCH BAR === */
[data-testid="stFormSubmitButton"] {
    display: none !important;
}
[data-testid="stTextInput"] > div > div {
    background: rgba(255, 255, 255, 0.1); 
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23ffffff' class='bi bi-search' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E");    background-repeat: no-repeat;
    background-position: right 15px center;
}
[data-testid="stTextInput"] input {
    color: #FFFFFF;
    background: transparent;
    padding-left: 1rem;
}
[data-testid="stTextInput"] [data-testid="stTextInputRootElement"] {
    background: #28283C !important;
    border: none !important;
    padding: 0 !important; /* Hapus padding default */
    margin-bottom: 8px !important; /* Beri sedikit jarak bawah */
}

/* === 5. KARTU HASIL (MEMPERBAIKI TOMBOL) === */
[data-testid="stHorizontalBlock"] {
    align-items: stretch;
}
[data-testid="stHorizontalBlock"] > [data-testid="stVerticalBlock"] {
    display: flex;
    flex-direction: column;
    height: 100%; 
}
/* INI ADALAH SELEKTOR KUNCI. 
   Ini hanya akan berfungsi jika Anda menggunakan st.container(border=True) 
*/
[data-testid="stVerticalBlock"] > [data-testid="stContainer"] {
    background: rgb(255, 255, 255);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    backdrop-filter: blur(5px);
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}
[data-testid="stVerticalBlock"] > [data-testid="stContainer"]:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
}

/* Gambar di dalam kartu */
div[data-testid="stImage"] {
    width: 100%;
    aspect-ratio: 16 / 9;
    border-radius: 15px 15px 0 0; /* Sesuaikan radius */
    overflow: hidden;
}
div[data-testid="stImage"] > img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 0;
}

/* Konten di dalam kartu */
[data-testid="stVerticalBlock"] > [data-testid="stContainer"] [data-testid="stBlock"] {
    padding: 1.25rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

[data-testid="stContainer"] h3,
[data-testid="stContainer"] p,
[data-testid="stContainer"] .stCaption,
[data-testid="stContainer"] [data-testid="stMetric"] {
    text-shadow: 0px 0px 6px rgba(0, 0, 0, 0.8);
    color: #FFFFFF;
}

/* === 6. TOMBOL DI KARTU (Lihat Detail & Harga) === */
/* Letak tombol ini di dalam st.container(border=True) */
[data-testid="stVerticalBlock"] [data-testid="stButton"] button,
[data-testid="stContainer"] [data-testid="stButton"] button {
    background: linear-gradient(90deg, #2a5292, #315fa8) !important; /* Biru gradasi */
    color: #FFFFFF !important;
    border: none !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
    width: 100% !important;
    padding: 0.6rem 1rem !important;
    transition: all 0.2s ease-in-out !important;
}
[data-testid="stVerticalBlock"] [data-testid="stButton"] button:hover,
[data-testid="stContainer"] [data-testid="stButton"] button:hover {
    background: linear-gradient(90deg, #092664, #0c2f7c) !important; /* Biru lebih gelap */
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

/* === 7. STYLING DIALOG (POP-UP) === */
div[data-testid="stDialog"] > div {
    background: rgba(40, 40, 60, 0.50); 
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    backdrop-filter: blur(20px);
}
div[data-testid="stDialog"] h1 {
    color: #FFFFFF;
    font-size: 1.75rem;
}
div[data-testid="stDialog"] {
    color: #E0E0E0;
}
div[data-testid="stDialog"] strong {
    color: #FFFFFF;
}

/* 7A. Tombol “Buka di Google Maps” */
[data-testid="stDialog"] [data-testid="stBaseLinkButton-secondary"] {
    background-color: #2d7a61 !important; /* Hijau cerah */
    color: white !important;
    border: none !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
    text-align: center !important;
    padding: 0.6rem 1rem !important;
    text-decoration: none !important;
    display: inline-block !important;
    transition: background-color 0.2s ease;
}

[data-testid="stDialog"] [data-testid="stBaseLinkButton-secondary"]:hover {
    background-color: #045038 !important; /* Hijau lebih gelap */
    color: white !important;
}

/* 7B. Tombol “Tutup” */
[data-testid="stDialog"] [data-testid="stButton"] button {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #E0E0E0 !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    font-weight: 500 !important;
    border-radius: 8px !important;
    width: 100% !important;
    transition: all 0.2s ease !important;
}
[data-testid="stDialog"] [data-testid="stButton"] button:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    color: white !important;
}


/* === 8. STYLING SIDEBAR (PANEL ADMIN) === */
/* Mengatur background sidebar agar SAMA dengan .main */
[data-testid="stSidebar"] {
    background-image: none !important;
}

/* Terapkan "Frosted Glass" ke kontainer konten sidebar */
[data-testid="stSidebar"] > div:first-child {
    background: rgba(26, 26, 46, 0.75); /* Sama seperti .main .block-container */
    backdrop-filter: blur(10px) saturate(150%);
    -webkit-backdrop-filter: blur(10px) saturate(150%);
    
    /* Garis pemisah tipis dengan konten utama */
    border-right: 1px solid rgba(255, 255, 255, 0.1); 
    padding: 1.5rem; /* Beri padding yang bagus */
}

/* === Teks di dalam Sidebar === */
[data-testid="stSidebar"] * {
    color: #E0E0E0; /* Teks default putih pudar */
}
/* Judul dan subjudul dibuat lebih cerah */
[data-testid="stSidebar"] h1,
[data-testid="stSidebar"] h2,
[data-testid="stSidebar"] h3,
[data-testid="stSidebar"] strong {
    color: #FFFFFF;
}

/* === Input Password Admin === */
[data-testid="stSidebar"] [data-testid="stTextInput"] > div > div {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
}
[data-testid="stSidebar"] [data-testid="stTextInput"] input {
    color: #FFFFFF;
    background: transparent;
}

/* === Alert (Success & Error) === */
[data-testid="stSidebar"] [data-testid="stSuccess"] {
    background-color: rgba(16, 185, 129, 0.2); /* Hijau transparan */
    border: 1px solid #10B981;
    color: #10B981; /* Teks hijau cerah */
    border-radius: 8px;
}
[data-testid="stSidebar"] [data-testid="stError"] {
    background-color: rgba(239, 68, 68, 0.2); /* Merah transparan */
    border: 1px solid #EF4444;
    color: #EF4444; /* Teks merah cerah */
    border-radius: 8px;
}

/* === st.metric (Statistik Kueri) === */
[data-testid="stSidebar"] [data-testid="stMetric"] {
    background: rgba(255, 255, 255, 0.05); /* Latar sangat tipis */
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 10px 15px;
    margin-bottom: 10px;
}
/* Label metric (cth: "'kamar mandi bersih'") */
[data-testid="stSidebar"] [data-testid="stMetricLabel"] {
    color: #AAAAAA; /* Abu-abu */
    font-size: 0.9rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
/* Value metric (cth: "15 kali") */
[data-testid="stSidebar"] [data-testid="stMetricValue"] {
    color: #FFFFFF;
    font-size: 1.25rem;
}

/* === st.expander (Data Mentah) === */
[data-testid="stSidebar"] [data-testid="stExpander"] {
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 10px;
    margin-top: 1rem;
}
[data-testid="stSidebar"] [data-testid="stExpander"] summary {
    font-weight: 600;
    color: #FFFFFF;
}
/* 1. Target kotak LUAR (stTextInputRootElement) */
/* Buat transparan total agar tidak terlihat */
[data-testid="stSidebar"] [data-testid="stTextInputRootElement"] {
    background: transparent !important;
    border: none !important;
    padding: 0 !important; /* Hapus padding default */
    margin-bottom: 8px !important; /* Beri sedikit jarak bawah */
}

/* 2. Target kotak DALAM (data-baseweb="base-input") */
/* Ini adalah kotak "frosted glass" Anda yang sebenarnya */
[data-testid="stSidebar"] [data-testid="stTextInput"] div[data-baseweb="base-input"] {
    background: rgba(255, 255, 255, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 8px !important;
}

/* 3. Target <input> di dalamnya (memaksa transparan) */
[data-testid="stSidebar"] [data-testid="stTextInput"] input {
    color: #FFFFFF !important;
    background: transparent !important;
}

/* 4. (BARU) Target tombol 'mata' untuk password */
[data-testid="stSidebar"] [data-testid="stTextInput"] button {
    background: transparent !important;
    color: rgba(255, 255, 255, 0.7) !important;
}
[data-testid="stSidebar"] [data-testid="stTextInput"] button:hover {
    background: rgba(255, 255, 255, 0.1) !important;
}

/* === 9. PERBAIKAN TOMBOL BUKA/TUTUP SIDEBAR === */
/* (Menyembunyikan teks "keyboard_double_arrow_right") */

/* Tombol Buka Sidebar (di header kiri atas) */
header [data-testid="stIconMaterial"] {
    font-size: 0 !important; /* Sembunyikan teks ikon */
    
    /* Ganti dengan SVG panah kanan */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23FFFFFF'%3E%3Cpath d='M6 12.8L10.8 8L6 3.2L7.2 2L13.2 8L7.2 14L6 12.8Z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    width: 24px;
    height: 24px;
    display: inline-block;
}

/* Tombol Tutup Sidebar (di dalam sidebar) */
[data-testid="stSidebar"] [data-testid="stIconMaterial"] {
    font-size: 0 !important; /* Sembunyikan teks ikon */
    
    /* Ganti dengan SVG panah kiri */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23FFFFFF'%3E%3Cpath d='M10 12.8L5.2 8L10 3.2L8.8 2L2.8 8L8.8 14L10 12.8Z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    width: 24px;
    height: 24px;
    display: inline-block;
}

/* ======================================================= */
/* --- 10. ATURAN RESPONSIVE (MOBILE) --- */
/* (Berlaku untuk layar di bawah 768px) */
/* ======================================================= */
@media (max-width: 768px) {

    /* 1. Perbaikan Background & Kontainer Utama */
    [data-testid="stAppViewContainer"] > .main {
        background-attachment: scroll;
    }

    .main .block-container {
        margin: 0 auto;
        padding: 2rem 1rem;
        border-radius: 12px;
        border-left: 1px solid rgba(255, 255, 255, 0.1);
        border-right: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* 2. Perkecil Ukuran Font Judul */
    [data-testid="stHeading"] > h1 {
        font-size: 2.2rem;
    }
    .sub-judul, .search-guide {
        font-size: 1rem;
        padding-bottom: 1rem;
    }

    /* 3. Paksa Kartu Menjadi 1 Kolom dengan Efek Menarik */
    [data-testid="stHorizontalBlock"] {
        flex-direction: column;
        gap: 1.5rem;
        align-items: center;
        justify-content: center;
        padding: 0 0.5rem;
    }

    /* 4. Styling Card yang Lebih Menarik */
    [data-testid="stVerticalBlock"] > [data-testid="stContainer"] {
        margin-bottom: 0;
        width: 100%;
        max-width: 380px; /* Batasi lebar card */
        background: rgba(26, 26, 46, 0.9); /* Lebih opaque untuk mobile */
        border: 2px solid rgba(255, 255, 255, 0.15);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        transform: scale(1);
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    [data-testid="stVerticalBlock"] > [data-testid="stContainer"]:active {
        transform: scale(0.98);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    /* 5. Image Lebih Proporsional */
    div[data-testid="stImage"] {
        aspect-ratio: 4 / 3;
        border-radius: 12px 12px 0 0;
    }

    /* 6. Konten Card Lebih Baik */
    [data-testid="stVerticalBlock"] > [data-testid="stContainer"] [data-testid="stBlock"] {
        padding: 1.5rem 1rem;
    }

    [data-testid="stContainer"] h3 {
        font-size: 1.25rem;
        text-align: center;
        margin-bottom: 0.75rem;
    }

    [data-testid="stContainer"] .stCaption {
        text-align: center;
        font-size: 0.9rem;
        color: #AAAAAA;
    }

    [data-testid="stContainer"] [data-testid="stMetric"] {
        text-align: center;
        background: rgba(255, 255, 255, 0.05);
        padding: 0.75rem;
        border-radius: 8px;
        margin: 0.75rem 0;
    }

    /* 7. Tombol Card Lebih Responsif */
    [data-testid="stVerticalBlock"] [data-testid="stButton"] button,
    [data-testid="stContainer"] [data-testid="stButton"] button {
        padding: 0.7rem 1.25rem !important;
        border-radius: 8px !important;
        font-size: 0.95rem !important;
        margin-top: 0.5rem;
    }

    /* 8. Dialog Lebih Cocok Mobile */
    div[data-testid="stDialog"] > div {
        max-width: 90vw;
        max-height: 90vh;
        border-radius: 12px;
    }

    div[data-testid="stDialog"] h1 {
        font-size: 1.5rem;
    }

    div[data-testid="stDialog"] p {
        font-size: 0.95rem;
        line-height: 1.6;
    }

    /* 9. Sidebar untuk Mobile */
    [data-testid="stSidebar"] {
        width: 85vw !important;
    }

    [data-testid="stSidebar"] > div:first-child {
        padding: 1.25rem;
    }
}